process GLOBAL =
{
   // setup useful services
   include "Validation/GlobalHits/test/data/MessageLogger.cfi"
   //include "FWCore/MessageLogger/data/MessageLogger.cfi"
   //include "Validation/GlobalHits/test/data/Timing.cfi"   
   //include "Validation/GlobalHits/test/data/Memory.cfi"      

   // Use Existing Input File from OscarProducer
   //
   //include "Validation/GlobalHits/test/data/PoolSource.cfi"
   include "Validation/GlobalHits/test/data/PoolRASource.cfi"

   // Setup Geometry (do I need this?)
   //
   // can't use official yet as it is configuration.xml rather than 
   // SimConfiguration (how to change?)
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
   es_module = TrackerGeometricDetESModule {}
		
   // Setup Magnetic Field (do I need this?)
   //
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   // Accumulation of globally transformed data
   //
   //module gvp
   include "Validation/GlobalHits/test/data/GlobalProducer.cfi"

   // Setup output module
   //
   module o1 = PoolOutputModule 
   { 
      untracked string fileName = "GlobalValProducer.root" 
      untracked vstring outputCommands = 
      {
        "keep *_gvp_*_*"
      }
   }

//   module o2 = PoolOutputModule 
//   { 
//      untracked string fileName = "MC_081_minbias.root" 
//      untracked vstring outputCommands = 
//      {
//        "keep edmHepMCProduct_*_*_*"
//      }
//   }

   // execute path
   //
   path p1 = { gvp }
//   endpath outpath = { o1, o2 }
   endpath outpath = { o1 }

}